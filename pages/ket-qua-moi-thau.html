<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="../access/styles/index.css" />
    <link rel="stylesheet" href="../access/css/bootstrap.css" />
    <link rel="stylesheet" href="../access/css/font-awesome.min.css" />
    <link rel="stylesheet" href="../access/css/slick.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="../access/css/lightgallery.css" />
    <link href="../access/css/lightslider.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Manrope:wght@500&family=Public+Sans:wght@300;400;600;700;900&family=Roboto&display=swap"
        rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0.5/dist/fancybox.css" rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;600;700;900&family=Roboto&display=swap"
        rel="stylesheet" />
    <script src="../access/js/jquery.min.js"></script>
    <script src="../access/js/bootstrap.min.js"></script>
    <script src="../access/js/slick.min.js"></script>
    <script src="../access/js/lightslider.js"></script>
    <script src="../access/js/fancybox.umd.js"></script>
    <script src="../access/js/lightgallery.min.js"></script>
    <script src="../access/js/lightgallery.js"></script>
    <script src="../access/js/functions.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
    <script src="https://unpkg.com/chart.js-plugin-labels-dv/dist/chartjs-plugin-labels.min.js"></script>
</head>

<body>
    <div data-include="header"></div>

    <div class="ket-qua-moi-thau">
        <section class="banner">
            <div class="container">
                <div class="content">
                    <span class="divider"></span>
                    <h3>Kết quả sản xuất thuỷ điện</h3>
                    <p>Chúng tôi hướng tới phát triển ngành năng lượng xanh bền vững, khai thác nguồn tài nguyên sạch
                        như năng lượng gió, năng lượng mặt trời.</p>
                </div>
                <div class="navigation">
                    <ul>
                        <li><a href="#">Các nhà máy thuỷ điện</a></li>
                        <li><a href="#">Tin tức thuỷ điện</a></li>
                        <li class="active"><a href="#">kết quả lựa chọn nhà thầu</a></li>
                        <li><a href="#">Thông tin mời thầu</a></li>
                    </ul>
                </div>
            </div>
        </section>
        <div class="main">
            <section class="information">
                <div class="container">
                    <div class="headding">
                        <h4>Sản lượng luỹ kế thuỷ điện năm 2022</h4>
                    </div>
                    <div class="row list">
                        <div class="col-12 col-md-4 item">
                            <p class="label">Sản lượng ngày 21</p>
                            <h1 class="info">11.37 </h1>
                            <p class="unit">Triệu kWh </p>
                        </div>
                        <div class="col-12 col-md-4 item">
                            <p class="label">Sản lượng tháng 11</p>
                            <h1 class="info">164.86</h1>
                            <p class="unit">Triệu kWh </p>
                        </div>
                        <div class="col-12 col-md-4 item">
                            <p class="label">Sản lượng lũy kế năm</p>
                            <h1 class="info">1,779.54</h1>
                            <p class="unit">Triệu kWh </p>
                        </div>
                    </div>
                </div>
            </section>
            <div class="divider-section"></div>
            <section class="bieu-do-san-luong">
                <div class="container">
                    <div class="d-flex head flex-wrap justify-content-between">
                        <h4 class="headding">Biểu đồ tổng sản lượng của Bitexco Power theo năm</h4>
                        <input type="date" name="date" class="input-date form-control">
                    </div>
                    <canvas id="myChartBar" class="bar-chart"></canvas>
                </div>
            </section>
            <div class="divider-section"></div>
            <section class="bieu-do-ti-trong">
                <div class="container">
                    <h4 class="title">Tỷ trọng công suất theo loại hình phát điện của Bitexco Power</h4>
                    <div class="row bieu-do">
                        <div class="col-12 col-md-6">
                            <div class="content">
                                <p>Tổng công suất của <strong>Bitexco Power</strong> đạt</p>
                                <div class="d-flex">
                                    <h2>3%</h2>
                                    <p>công suất</p>
                                </div>
                                <p><strong>Hệ thống điện quốc gia</strong></p>
                            </div>
                        </div>
                        <div class="col-12 col-md-6">
                            <canvas id="myChartPie" class="pie-chart"></canvas>
                        </div>
                    </div>
                </div>
            </section>
            <section class="other-information">
                <div class="other-container">
                    <div class="other-content hover-zoom">
                        <a href="#" class="hydro-electric-news"><span class="text">Hoạt động sản xuất kinh
                                doanh</span></a>
                        <a href="#" class="production-result"><span class="text"> Thông cáo báo chí</span></a>
                        <a href="#" class="bidding-information"><span class="text"> Quan hệ cổ đông</span></a>
                    </div>
                </div>
            </section>
        </div>
    </div>
    <div data-include="footer-three"></div>
</body>
<script>

    const labels = ["2013", "2014", "2015", "2016", "2017", "2018", "2019", "2020", "2021", "2022",];
    let Data1 = [112, 59, 45, 56, 58, 52, 59, 87, 45, 20];
    let Data2 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 10];
    let Data3 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 30];
    //chartjs\
    var ctxBar = document.getElementById("myChartBar").getContext('2d');
    var myChartBar = new Chart(ctxBar, {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{
                label: 'PTC1',
                backgroundColor: "#6296E4",
                data: Data1
            }, {
                label: 'PTC2',
                backgroundColor: "#61DDAA",
                data: Data2
            }, {
                label: 'PTC3',
                backgroundColor: "#9C4909",
                data: Data3
            }],
        },
        options: {
            animation: {
                duration: 10,
            },
            legend: {
                display: true
            },
            scales: {
                xAxes: [{
                    stacked: true,
                    barThickness: 71,
                    barPercentage: 0.5,
                    gridLines: {
                        display: false,
                    },
                    scaleLabel: {
                        display: true,
                        labelString: 'Năm',
                    },
                }],
                yAxes: [{
                    stacked: true,
                    ticks: {
                        beginAtZero: true,
                    },
                    scaleLabel: {
                        display: true,
                        labelString: 'Sản lượng (Triệu kWh)',
                    },
                    type: 'linear',
                }]
            },
            responsive: true,
            maintainAspectRatio: true,
            legend: { display: false },
        }
    });
    var numberWithCommas = function (x) {
        return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    };
    var ctxPie = document.getElementById("myChartPie").getContext('2d');
    var myChartPie = new Chart(ctxPie, {
        type: 'pie',
        data: {
            labels: [
                'Thủy điện',
                'Điện mặt trời',
            ],
            datasets: [{
                data: [900, 100],
                backgroundColor: [
                    '#5C91FA',
                    '#80B55C',
                ],
                hoverOffset: 4
            }],
        },
        options: {
            tooltips: {
                displayColors: true,
                mode: 'label',
            },
            animation: {
                duration: 10,
            },
            plugins: {
                labels: {
                    render: 'percentage',
                    fontColor: function (data) {
                        var rgb = hexToRgb(data.dataset.backgroundColor[data.index]);
                        var threshold = 140;
                        var luminance = 0.299 * rgb.r + 0.587 * rgb.g + 0.114 * rgb.b;
                        return luminance > threshold ? 'black' : 'white';
                    },
                    precision: 2
                }
            },
            legend: {
                display: true
            },

            responsive: true,
            maintainAspectRatio: true,
            legend: { display: false },
        }
    });

</script>

</html>